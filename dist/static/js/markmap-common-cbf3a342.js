/*! markmap-common v0.15.0 | MIT License */function o(){return o=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},o.apply(this,arguments)}const d="npm2url/dist/index.cjs",p={jsdelivr:r=>`https://cdn.jsdelivr.net/npm/${r}`,unpkg:r=>`https://unpkg.com/${r}`};class h{constructor(){this.providers=o({},p),this.provider="jsdelivr"}getFastestProvider(t=d){return Promise.any(Object.entries(this.providers).map(async([e,n])=>{const s=await fetch(n(t));if(!s.ok)throw s;return await s.text(),e}))}async findFastestProvider(){return this.provider=await this.getFastestProvider(),this.provider}setProvider(t,e){e?this.providers[t]=e:delete this.providers[t]}getFullUrl(t,e=this.provider){if(t.includes("://"))return t;const n=this.providers[e];if(!n)throw new Error(`Provider ${e} not found`);return n(t)}}new h;class w{constructor(){this.listeners=[]}tap(t){return this.listeners.push(t),()=>this.revoke(t)}revoke(t){const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}revokeAll(){this.listeners.splice(0)}call(...t){for(const e of this.listeners)e(...t)}}function v(r,t){if(r==null)return{};var e={},n=Object.keys(r),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(e[s]=r[s]);return e}const g=["textContent"],m={"&":"&amp;","<":"&lt;",'"':"&quot;"};function u(r){return r.replace(/[&<"]/g,t=>m[t])}function y(r){return r.replace(/<(\/script>)/g,"\\x3c$2")}function l(r,t){const e=t?Object.entries(t).map(([n,s])=>{if(!(s==null||s===!1))return n=` ${u(n)}`,s===!0?n:`${n}="${u(s)}"`}).filter(Boolean).join(""):"";return`<${r}${e}>`}function $(r){return`</${r}>`}function c(r,t,e){return t==null?l(r,e):l(r,e)+(t||"")+$(r)}function j(r,t){const e=t.map(n=>typeof n=="function"?n.toString():JSON.stringify(n!=null?n:null)).join(",");return`(${r.toString()})(${e})`}function S(r,t){return r.map(e=>{if(e.type==="script"){const n=e.data,{textContent:s}=n,i=v(n,g);return c("script",s||"",i)}if(e.type==="iife"){const{fn:n,getParams:s}=e.data;return c("script",y(j(n,(s==null?void 0:s(t))||[])))}return""})}function x(r){return r.map(t=>t.type==="stylesheet"?c("link",null,o({rel:"stylesheet"},t.data)):c("style",t.data))}const b=Math.random().toString(36).slice(2,8);let a=0;function O(){return a+=1,`mm-${b}-${a}`}function P(){}function C(r,t){const e=(n,s)=>t(n,()=>{var i;(i=n.children)==null||i.forEach(f=>{e(f,n)})},s);e(r)}function k(r,...t){const e=(r||"").split(" ").filter(Boolean);return t.forEach(n=>{n&&e.indexOf(n)<0&&e.push(n)}),e.join(" ")}function F(r){if(typeof r=="string"){const e=r;r=n=>n.tagName===e}const t=r;return function(){let n=Array.from(this.childNodes);return t&&(n=n.filter(s=>t(s))),n}}function I(r,t){return(...e)=>t(r,...e)}function _(r){return{type:"script",data:{src:r}}}function H(r){return{type:"stylesheet",data:{href:r}}}export{w as H,h as U,S as a,_ as b,H as c,k as d,C as e,F as f,O as g,P as n,x as p,I as w};
