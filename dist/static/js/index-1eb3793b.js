import{u as b,w as q}from"./xlsx-dbac8e94.js";import{_ as J,o as M}from"./index-390658e9.js";import{U as O,_ as $,i as A}from"./@element-plus-fc73f803.js";import{r as l,b as R,R as s,e as n,f as v,j as i,w as o,F as C,k as W,q as p,ae as G,U as K,m as w,y as Q,T as E}from"./@vue-a5898d8d.js";import"./vue-router-b5535615.js";import"./axios-f45f83e3.js";import"./vuex-37c0abaa.js";import"./js-base64-8ead6284.js";import"./element-plus-6e566333.js";import"./lodash-es-b6050654.js";import"./@vueuse-c063da6b.js";import"./@ctrl-eb0b847c.js";import"./dayjs-89c8356b.js";import"./@babel-dfdb6114.js";import"./async-validator-1193b133.js";import"./memoize-one-99e54574.js";import"./escape-html-4bbaf1e1.js";import"./normalize-wheel-es-eea50788.js";import"./@floating-ui-a9dc73ab.js";import"./vuex-persistedstate-1d34ce44.js";import"./screenfull-c3c7916b.js";import"./nprogress-1339b349.js";import"./mockjs-3e444fda.js";import"./@kangc-a25feab1.js";import"./vue-d4953661.js";const X=[{label:"\u5E8F\u53F7",props:"goodsId",width:"60",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u673A\u6784\u4EE3\u7801",props:"code",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u673A\u6784\u540D",props:"title",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u5546\u54C1\u540D\u79F0",props:"goodsname",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u5546\u54C1\u6761\u7801",props:"commodity",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u89C4\u683C",props:"sku",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u54C1\u724C",props:"brand",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!1},{label:"\u9500\u552E\u6570\u91CF",props:"number",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!0},{label:"\u5269\u4F59\u5E93\u5B58",props:"inventory",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!0},{label:"\u6210\u672C\u4EF7",props:"costPrice",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!0},{label:"\u6210\u672C\u91D1\u989D",props:"amount",width:"auto",align:"left",show:!0,fixed:!1,itemEdit:"itemEdit",sortable:!0},{label:"\u64CD\u4F5C",props:"actions",width:"auto",align:"left",show:!0,fixed:"right",itemEdit:"itemEdit",sortable:!1}];const Y=E("\u6ED1\u52A8\u52A0\u8F7D"),Z=E("\u5206\u9875\u52A0\u8F7D"),ee=E("\u5BFC\u51FA\u8868\u683C"),te={key:1,class:"one-cut-txt"},ae={setup(oe){const u=l([]),m=l([]);l();const x=l(JSON.parse(JSON.stringify(X)));l(!1),l(!1),l(0);const t=l({keyWord:"",page:1,size:10}),f=l("auto"),_=l(!0),z=()=>{f.value="75vh",_.value=!1,m.value=[],t.value.page=1,t.value.size=15,c(),document.getElementById("mutipleTable").addEventListener("scroll",r=>{console.log("/\u76D1\u542C\u8868\u683C\u6EDA\u52A8\u4E8B\u4EF6"),N(r)},!0)},S=()=>{_.value=!0,f.value="auto",t.value.page=1,t.value.size=10,c()},T=e=>{console.log("\u53D6\u6D88")},c=()=>{M(t.value).then(e=>{console.log(e.data.data),t.value.size==10?u.value=e.data.data:(u.value=e.data.data.slice(t.value.page-1,t.value.size),m.value=e.data.data)})},D=e=>{e.itemEdit=!e.itemEdit},F=e=>{console.log(e)},V=e=>{t.value.page=e,c(t.value)},H=()=>{console.log("\u5BFC\u51FA\u8868\u683C");const e=b.json_to_sheet(u.value),r=b.book_new();b.book_append_sheet(r,e,"test-data"),q(r,"\u6D4B\u8BD5.xlsx")};R(()=>{console.log(x.value),c()});const N=e=>{if(e.target.scrollTop&&e.target.scrollHeight-2<=e.target.scrollTop+e.target.clientHeight){if(console.log(t.value.page),t.value.page++,t.value.page>5)return;u.value=u.value.concat(m.value.slice(t.value.size*t.value.page-t.value.size,t.value.size*t.value.page))}};return(e,r)=>{const g=s("el-button"),y=s("el-card"),B=s("el-input"),I=s("Finished"),k=s("el-icon"),U=s("el-popconfirm"),L=s("el-table-column"),P=s("el-table"),j=s("el-pagination");return n(),v(C,null,[i(y,{class:"flx-row-right"},{default:o(()=>[i(g,{type:"primary",onClick:z},{default:o(()=>[Y]),_:1}),i(g,{type:"primary",onClick:S},{default:o(()=>[Z]),_:1}),i(g,{type:"primary",onClick:H},{default:o(()=>[ee]),_:1})]),_:1}),i(y,{class:"mt10",id:"printMe"},{default:o(()=>[i(P,{id:"mutipleTable",data:u.value,"header-cell-style":{backgroundColor:"#ecf5ff"},border:"",stripe:"",style:{width:"100%"},height:f.value},{default:o(()=>[(n(!0),v(C,null,W(x.value,a=>(n(),p(L,{key:a.props,sortable:a.sortable,prop:a.props,label:a.label,width:a.width,fixed:a.fixed,align:a.align},G({_:2},[a.props!=="actions"?{name:"default",fn:o(d=>[d.row.itemEdit?(n(),p(B,{key:0,modelValue:d.row[a.props],"onUpdate:modelValue":h=>d.row[a.props]=h},null,8,["modelValue","onUpdate:modelValue"])):(n(),v("div",te,K(d.row[a.props]),1))])}:void 0,a.props==="actions"?{name:"default",fn:o(d=>[i(k,{class:"icon-edit",onClick:h=>D(d.row)},{default:o(()=>[d.row.itemEdit?(n(),p(I,{key:0})):(n(),p(w(O),{key:1}))]),_:2},1032,["onClick"]),i(U,{"confirm-button-text":"\u786E\u8BA4","cancel-button-text":"\u53D6\u6D88",icon:w(A),"icon-color":"#626AEF",title:"\u786E\u8BA4\u5220\u9664\u8BE5\u7528\u6237?",onConfirm:r[0]||(r[0]=h=>e.DeleteItem(e.index)),onCancel:T},{reference:o(()=>[i(k,{class:"icon-dele"},{default:o(()=>[i(w($))]),_:1})]),_:1},8,["icon"])])}:void 0]),1032,["sortable","prop","label","width","fixed","align"]))),128))]),_:1},8,["data","height"]),_.value?(n(),p(j,{key:0,small:"",background:"",layout:"prev, pager, next",total:60,class:"mt-4 mt10",onSizeChange:F,onCurrentChange:V})):Q("",!0)]),_:1})],64)}}};var De=J(ae,[["__scopeId","data-v-7260dce2"]]);export{De as default};
