import{v as a}from"./video.js-254cd261.js";import{_ as d}from"./index-16c9cfa1.js";import{r as i,b as l,z as u,L as _,e as v,f as p,x as c,K as f}from"./@vue-a5898d8d.js";const m={class:"videoPlay"},y=["src"],g={props:{videoSrc:String,autoPlay:Boolean},setup(s){const o=s,t=i();let e;const n=async()=>{a.addLanguage("zh-CN",zh),await f();const r={muted:!0,controls:!0,autoplay:!0,loop:!0,language:"zh-CN",techOrder:["html5"]};e=a(t.value,r,()=>{a.log("\u64AD\u653E\u5668\u5DF2\u7ECF\u51C6\u5907\u597D\u4E86!"),o.autoPlay&&o.videoSrc&&e.play(),e.on("ended",()=>{a.log("\u64AD\u653E\u7ED3\u675F\u4E86!")}),e.on("error",()=>{a.log("\u64AD\u653E\u5668\u89E3\u6790\u51FA\u9519!")})})};return l(()=>{n()}),u(()=>o.videoSrc,()=>{e.pause(),e.src(o.videoSrc),e.load(),o.videoSrc&&e.play()}),_(()=>{e==null||e.dispose()}),(r,h)=>(v(),p("div",m,[c("video",{ref_key:"m3u8_video",ref:t,class:"video-js vjs-default-skin vjs-big-play-centered",controls:""},[c("source",{src:s.videoSrc},null,8,y)],512)]))}};var B=d(g,[["__scopeId","data-v-694793af"]]);export{B as V};
