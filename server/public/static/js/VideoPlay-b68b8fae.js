import{v as a,a as d}from"./video.js-80503642.js";import{_ as n}from"./index-2623a4b7.js";import{r as l,b as u,z as v,L as _,e as p,f as m,x as c,K as f}from"./@vue-a5898d8d.js";const g={class:"videoPlay"},y=["src"],S={props:{videoSrc:String,previewImgSrc:String,autoPlay:Boolean},setup(s){const o=s,r=l();let e;const i=async()=>{a.addLanguage("zh-CN",d),await f();const t={muted:!0,controls:!0,autoplay:!0,loop:!0,language:"zh-CN",techOrder:["html5"],playbackRates:[.5,1,1.5,2,2.5,3,3.5,4,5],poster:o.previewImgSrc};e=a(r.value,t,()=>{a.log("\u64AD\u653E\u5668\u5DF2\u7ECF\u51C6\u5907\u597D\u4E86!"),o.autoPlay&&o.videoSrc&&e.play(),e.on("ended",()=>{a.log("\u64AD\u653E\u7ED3\u675F\u4E86!")}),e.on("error",()=>{a.log("\u64AD\u653E\u5668\u89E3\u6790\u51FA\u9519!")})})};return u(()=>{i()}),v(()=>o.videoSrc,()=>{e.pause(),e.src(o.videoSrc),e.load(),o.videoSrc&&e.play()}),_(()=>{e==null||e.dispose()}),(t,h)=>(p(),m("div",g,[c("video",{ref_key:"m3u8_video",ref:r,class:"video-js vjs-default-skin vjs-big-play-centered",controls:""},[c("source",{src:s.videoSrc},null,8,y)],512)]))}};var P=n(S,[["__scopeId","data-v-0dd63736"]]);export{P as V};
